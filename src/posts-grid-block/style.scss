*{
    box-sizing: border-box;
}

// Posts Grid Block Styles
.adaire-posts-grid {
	--adaire-posts-grid-columns: 3;
	--adaire-posts-grid-gap: 24px;
	--adaire-posts-grid-border-radius: 8px;
	--adaire-posts-grid-padding: 20px;
	--adaire-posts-grid-image-height: 200px;
	--adaire-posts-grid-title-color: #1f2937;
	--adaire-posts-grid-title-font-size: 18px;
	--adaire-posts-grid-title-font-weight: 600;
	--adaire-posts-grid-excerpt-color: #6b7280;
	--adaire-posts-grid-excerpt-font-size: 14px;
	--adaire-posts-grid-excerpt-font-weight: 400;
	--adaire-posts-grid-meta-color: #9ca3af;
	--adaire-posts-grid-meta-font-size: 12px;
	--adaire-posts-grid-meta-font-weight: 400;
	--adaire-posts-grid-category-color: #3b82f6;
	--adaire-posts-grid-category-background: #f1f5f9;
	--adaire-posts-grid-category-border-radius: 16px;
	--adaire-posts-grid-hover-scale: 1.05;
	--adaire-posts-grid-overlay-opacity: 0.4;
	--adaire-posts-grid-overlay-gradient: linear-gradient(
		135deg,
		rgba(0, 0, 0, 0.4) 0%,
		rgba(0, 0, 0, 0.6) 100%
	);
	--adaire-posts-grid-container-max-width: 1200px;

	width: 100%;
	position: relative;
	display: flex;
	justify-content: center;

	&__container {
		width: 100%;
		max-width: 100%;
		margin: 0 auto;
		padding: 0 20px;

		&.is-constrained {
			max-width: var(--container-max-width, 1200px);
		}
	}

	// Responsive container max-width for tablet
	@media (max-width: 1024px) {
		&__container.is-constrained {
			max-width: var(
				--container-max-width-tablet,
				var(--container-max-width, 100%)
			);
		}
	}

	// Responsive container max-width for mobile
	@media (max-width: 768px) {
		&__container.is-constrained {
			max-width: var(
				--container-max-width-mobile,
				var(--container-max-width-tablet, 100%)
			);
		}
	}

	// Responsive margins for tablet
	@media (max-width: 1024px) {
		margin-top: var(--margin-top-tablet, 0) !important;
		margin-right: var(--margin-right-tablet, 0) !important;
		margin-bottom: var(--margin-bottom-tablet, 0) !important;
		margin-left: var(--margin-left-tablet, 0) !important;
	}

	// Responsive margins for mobile
	@media (max-width: 768px) {
		margin-top: var(--margin-top-mobile, 0) !important;
		margin-right: var(--margin-right-mobile, 0) !important;
		margin-bottom: var(--margin-bottom-mobile, 0) !important;
		margin-left: var(--margin-left-mobile, 0) !important;
	}

	// Filter Styles
	&__filters {
		margin-bottom: 40px;
		text-align: center;

		&[data-filter-position="bottom"] {
			margin-bottom: 0;
			margin-top: 40px;
		}
	}

	&__filter-list {
		display: flex;
		flex-wrap: wrap;
		justify-content: center;
		gap: 12px;
		margin: 0;
		padding: 0;
		list-style: none;
	}

	&__filter-btn {
		background: transparent;
		border: 2px solid #e5e7eb;
		border-radius: var(--adaire-posts-grid-filter-border-radius);
		color: #6b7280;
		cursor: pointer;
		font-size: 14px;
		font-weight: 500;
		font-family: inherit;
		padding: 8px 16px;
		transition: all 0.3s ease;
		text-decoration: none;
		display: inline-block;

		&:hover {
			border-color: var(--adaire-posts-grid-category-color);
			color: var(--adaire-posts-grid-category-color);
			transform: translateY(-2px);
		}

		&.is-active {
			background: var(--adaire-posts-grid-category-color);
			border-color: var(--adaire-posts-grid-category-color);
			color: white;
		}

		&--buttons {
			border-radius: 6px;
			background: #f9fafb;

			&:hover {
				background: #f3f4f6;
			}

			&.is-active {
				background: var(--adaire-posts-grid-category-color);
				color: white;
			}
		}

		&--dropdown {
			display: none; // Will be implemented with custom dropdown
		}
	}

	// Grid Layouts
	&__grid {
		display: grid;
		gap: var(--adaire-posts-grid-gap);
		grid-template-columns: repeat(var(--adaire-posts-grid-columns), 1fr);
		list-style: none;
		margin: 0;
		padding: 0;

		// Normal Grid
		&--normal {
			grid-template-columns: repeat(var(--adaire-posts-grid-columns), 1fr);
		}

		// Bento Grid
		&--bento {
			grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
			gap: var(--adaire-posts-grid-gap);

			.adaire-posts-grid__item {
				position: relative;
				min-height: 300px;
				border-radius: var(--adaire-posts-grid-border-radius);
				overflow: hidden;
				background: #f3f4f6;

				&:nth-child(odd) {
					grid-column: span 1;
				}

				&:nth-child(even) {
					grid-column: span 1;
				}

				// Create interesting bento patterns
				&:nth-child(3n + 1) {
					grid-row: span 2;
				}

				&:nth-child(5n + 2) {
					grid-column: span 2;
				}

				.adaire-posts-grid__image {
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					z-index: 1;

					img {
						width: 100%;
						height: 100%;
						object-fit: cover;
						transition: transform 0.3s ease;
					}
				}

				.adaire-posts-grid__overlay {
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					background: var(--adaire-posts-grid-overlay-gradient);
					z-index: 2;
					display: flex;
					align-items: flex-end;
					padding: var(--adaire-posts-grid-padding);
					opacity: var(--adaire-posts-grid-overlay-opacity);
					transition: opacity 0.3s ease;

					&-content {
						color: white;
						width: 100%;
					}
				}

				&:hover {
					.adaire-posts-grid__overlay {
						opacity: 0.9;
					}

					.adaire-posts-grid__image img {
						transform: scale(1.1);
					}
				}
			}
		}
	}

	// Individual Post Items
	&__item {
		background: white;
		border-radius: var(--adaire-posts-grid-border-radius);
		overflow: hidden;
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
		transition:
			transform 0.2s linear,
			box-shadow 0.2s linear;
		display: flex;
		flex-direction: column;
		height: 100%;
		border: none;

		&:hover {
			transform: translateY(-4px);
			box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);

			.adaire-posts-grid__image img {
				transform: scale(1.05);
			}
		}
	}

	// Image Styles
	&__image {
		position: relative;
		width: 100%;
		height: var(--adaire-posts-grid-image-height);
		overflow: hidden;
		background: #f3f4f6;

		img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			transition: transform 0.2s linear;
		}

		&-placeholder {
			display: flex;
			align-items: center;
			justify-content: center;
			height: 100%;
			background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
			color: #9ca3af;
			font-size: 14px;
			font-weight: 500;
		}
	}

	// Content Styles
	&__content {
		padding: var(--adaire-posts-grid-padding);
		display: flex;
		flex-direction: column;
		flex-grow: 1;
	}

	// Categories
	&__categories {
		display: flex;
		flex-wrap: wrap;
		gap: 6px;
		margin-bottom: 16px;
	}

	&__category {
		background: var(--adaire-posts-grid-category-background);
		color: var(--adaire-posts-grid-category-color);
		font-size: 11px;
		font-weight: 500;
		padding: 6px 12px;
		border-radius: 16px;
		text-decoration: none;
		transition: all 0.3s ease;
		border: none;
		display: inline-block;

		&:hover {
			background: var(--adaire-posts-grid-category-color);
			color: white;
			transform: translateY(-1px);
		}
	}

	// Title
	&__title {
		margin: 0 0 12px 0;
		font-size: var(--adaire-posts-grid-title-font-size);
		font-weight: var(--adaire-posts-grid-title-font-weight);
		line-height: 1.4;
		color: var(--adaire-posts-grid-title-color);

		a {
			color: inherit;
			text-decoration: none;
			transition: color 0.3s ease;
			display: block;

			&:hover {
				color: var(--adaire-posts-grid-category-color);
			}
		}

		// Bento overlay title styling
		.adaire-posts-grid__overlay & {
			color: white;
			margin-bottom: 8px;
			font-size: 18px;

			a {
				color: white;

				&:hover {
					color: #e5e7eb;
				}
			}
		}
	}

	// Excerpt
	&__excerpt {
		color: var(--adaire-posts-grid-excerpt-color);
		font-size: var(--adaire-posts-grid-excerpt-font-size);
		font-weight: var(--adaire-posts-grid-excerpt-font-weight);
		line-height: 1.5;
		margin-bottom: 16px;
		flex-grow: 1;

		// Bento overlay excerpt styling
		.adaire-posts-grid__overlay & {
			color: rgba(255, 255, 255, 0.9);
			margin-bottom: 12px;
			font-size: 13px;
		}
	}

	// Meta Information
	&__meta {
		display: flex;
		flex-wrap: wrap;
		gap: 8px;
		color: var(--adaire-posts-grid-meta-color);
		font-size: var(--adaire-posts-grid-meta-font-size);
		font-weight: var(--adaire-posts-grid-meta-font-weight);
		margin-top: auto;
		padding-top: 12px;
		border-top: none;

		// Bento overlay meta styling
		.adaire-posts-grid__overlay & {
			color: rgba(255, 255, 255, 0.8);
			border-top: 1px solid rgba(255, 255, 255, 0.2);
			padding-top: 12px;
		}
	}

	&__date,
	&__author,
	&__read-time {
		display: inline-flex;
		align-items: center;
		gap: 4px;

		&::after {
			content: "Â·";
			margin: 0 4px;
			color: currentColor;
			opacity: 0.5;
		}

		&:last-child::after {
			display: none;
		}
	}

	// Error State
	&__error {
		text-align: center;
		padding: 60px 20px;
		color: #6b7280;

		p {
			margin: 0;
			font-size: 16px;
		}
	}

	// Pagination Styles
	&__pagination {
		margin-top: 40px;
		padding-top: 40px;
		border-top: 1px solid #e5e7eb;

		&-wrapper {
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 8px;

			&--loadmore {
				justify-content: center;
			}

			&--prevnext {
				justify-content: space-between;
			}
		}

		&-numbers {
			display: flex;
			align-items: center;
			gap: 4px;
		}

		&-number,
		&-btn {
			background: white;
			border: 2px solid #e5e7eb;
			border-radius: var(--adaire-posts-grid-pagination-border-radius);
			color: #6b7280;
			cursor: pointer;
			font-size: 14px;
			font-weight: 500;
			font-family: inherit;
			padding: 8px 16px;
			transition: all 0.3s ease;
			min-width: 40px;
			display: inline-flex;
			align-items: center;
			justify-content: center;

			&:hover:not(.is-disabled):not([disabled]) {
				border-color: var(--adaire-posts-grid-category-color);
				color: var(--adaire-posts-grid-category-color);
				transform: translateY(-2px);
			}

			&.is-active {
				background: var(--adaire-posts-grid-category-color);
				border-color: var(--adaire-posts-grid-category-color);
				color: white;
			}

			&.is-disabled,
			&[disabled] {
				opacity: 0.5;
				cursor: not-allowed;
			}
		}

		&-loadmore {
			background: var(--adaire-posts-grid-category-color);
			border: none;
			border-radius: var(--adaire-posts-grid-pagination-border-radius);
			color: white;
			cursor: pointer;
			font-size: 14px;
			font-weight: 500;
			font-family: inherit;
			padding: 12px 32px;
			transition: all 0.3s ease;

			&:hover {
				transform: translateY(-2px);
				box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
			}
		}

		&-dots {
			color: #9ca3af;
			padding: 0 4px;
		}

		&-info {
			color: #6b7280;
			font-size: 14px;
			font-weight: 500;
			font-family: inherit;
		}
	}

	// Responsive Design
	@media (max-width: 1024px) {
		&__grid {
			&--normal {
				grid-template-columns: repeat(2, 1fr) !important;
			}

			&--bento {
				grid-template-columns: repeat(2, 1fr);

				.adaire-posts-grid__item {
					&:nth-child(5n + 2) {
						grid-column: span 1;
					}
				}
			}
		}
	}

	@media (max-width: 768px) {
		&__container {
			padding: 0 16px;
		}

		&__grid {
			gap: 16px;

			&--normal {
				grid-template-columns: 1fr !important;
			}

			&--bento {
				grid-template-columns: 1fr;

				.adaire-posts-grid__item {
					min-height: 250px;

					&:nth-child(3n + 1) {
						grid-row: span 1;
					}

					&:nth-child(5n + 2) {
						grid-column: span 1;
					}
				}
			}

			&--list {
				.adaire-posts-grid__item {
					flex-direction: column;
					gap: 16px;

					.adaire-posts-grid__image {
						flex: none;
						width: 100%;
						height: 200px;
					}
				}
			}
		}

		&__filters {
			margin-bottom: 30px;

			&[data-filter-position="bottom"] {
				margin-top: 30px;
				margin-bottom: 0;
			}
		}

		&__filter-list {
			justify-content: flex-start;
			overflow-x: auto;
			padding-bottom: 8px;
			-webkit-overflow-scrolling: touch;

			&::-webkit-scrollbar {
				height: 4px;
			}

			&::-webkit-scrollbar-track {
				background: #f1f5f9;
				border-radius: 2px;
			}

			&::-webkit-scrollbar-thumb {
				background: #cbd5e1;
				border-radius: 2px;

				&:hover {
					background: #94a3b8;
				}
			}
		}

		&__filter-btn {
			white-space: nowrap;
			flex-shrink: 0;
		}

		&__title {
			font-size: 18px;
		}

		&__content {
			padding: 20px;
		}
	}

	@media (max-width: 480px) {
		&__grid {
			gap: 12px;

			&--bento .adaire-posts-grid__item {
				min-height: 200px;
			}
		}

		&__content {
			padding: 16px;
		}

		&__title {
			font-size: 16px;
		}

		&__excerpt {
			font-size: 13px;
		}

		&__meta {
			font-size: 11px;
		}
	}

	// Animation States
	&.adaire-posts-grid--animating {
		.adaire-posts-grid__item {
			pointer-events: none;
		}
	}

	// Loading State
	&.adaire-posts-grid--loading {
		.adaire-posts-grid__grid {
			opacity: 0.5;
			pointer-events: none;
		}
	}

	// Print Styles
	@media print {
		&__filter-btn {
			display: none;
		}

		&__item {
			break-inside: avoid;
			box-shadow: none;
			border: 1px solid #e5e7eb;
		}
	}
}

// Editor-specific styles
.wp-block-create-block-posts-grid-block {
	.adaire-posts-grid {
		&__container {
			// Allow container settings to work in editor
			&.is-constrained {
				max-width: var(--container-max-width, 1200px);
			}
		}

		// Responsive container max-width for tablet in editor
		@media (max-width: 1024px) {
			&__container.is-constrained {
				max-width: var(
					--container-max-width-tablet,
					var(--container-max-width, 100%)
				);
			}
		}

		// Responsive container max-width for mobile in editor
		@media (max-width: 768px) {
			&__container.is-constrained {
				max-width: var(
					--container-max-width-mobile,
					var(--container-max-width-tablet, 100%)
				);
			}
		}

		// Responsive margins for tablet in editor
		@media (max-width: 1024px) {
			margin-top: var(--margin-top-tablet, 0) !important;
			margin-right: var(--margin-right-tablet, 0) !important;
			margin-bottom: var(--margin-bottom-tablet, 0) !important;
			margin-left: var(--margin-left-tablet, 0) !important;
		}

		// Responsive margins for mobile in editor
		@media (max-width: 768px) {
			margin-top: var(--margin-top-mobile, 0) !important;
			margin-right: var(--margin-right-mobile, 0) !important;
			margin-bottom: var(--margin-bottom-mobile, 0) !important;
			margin-left: var(--margin-left-mobile, 0) !important;
		}

		// Responsive grid columns for tablet in editor
		@media (max-width: 1024px) {
			&__grid {
				&--normal {
					grid-template-columns: repeat(2, 1fr) !important;
				}

				&--bento {
					grid-template-columns: repeat(2, 1fr) !important;

					.adaire-posts-grid__item {
						&:nth-child(5n + 2) {
							grid-column: span 1;
						}
					}
				}
			}
		}

		// Responsive grid columns for mobile in editor
		@media (max-width: 768px) {
			&__container {
				padding: 0 16px;
			}

			&__grid {
				gap: 16px;

				&--normal {
					grid-template-columns: 1fr !important;
				}

				&--bento {
					grid-template-columns: 1fr !important;

					.adaire-posts-grid__item {
						min-height: 250px;

						&:nth-child(3n + 1) {
							grid-row: span 1;
						}

						&:nth-child(5n + 2) {
							grid-column: span 1;
						}
					}
				}

				&--list {
					.adaire-posts-grid__item {
						flex-direction: column;
						gap: 16px;

						.adaire-posts-grid__image {
							flex: none;
							width: 100%;
							height: 200px;
						}
					}
				}
			}
		}
	}

	// List Layout Specific Styles
	&--list {
		.adaire-posts-grid__grid {
			grid-template-columns: 1fr !important;
			gap: 20px;
		}

		.adaire-posts-grid__item {
			display: flex !important;
			flex-direction: row !important;
			align-items: flex-start !important;
			gap: 0 !important;
			background: white;
			border-radius: var(--adaire-posts-grid-border-radius);
			overflow: hidden !important;
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
			transition: all 0.3s ease;

			&:hover {
				transform: translateY(-2px);
				box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);

				.adaire-posts-grid__image img {
					transform: scale(1.05);
				}
			}
		}

		.adaire-posts-grid__image {
			flex: 0 0 50% !important;
			width: 50% !important;
			height: 250px !important;
			min-height: 250px !important;
			max-height: 250px !important;
			border-radius: 0 !important;
			overflow: hidden !important;
			position: relative !important;

			img {
				width: 100% !important;
				height: 100% !important;
				object-fit: cover !important;
				transition: transform 0.3s ease;
			}
		}

		.adaire-posts-grid__content {
			flex: 0 0 50% !important;
			width: 50% !important;
			padding: var(--adaire-posts-grid-padding) !important;
			display: flex !important;
			flex-direction: column !important;
			justify-content: flex-start !important;
		}

		// Responsive: Stack on mobile
		@media (max-width: 768px) {
			.adaire-posts-grid__item {
				flex-direction: column !important;
			}

			.adaire-posts-grid__image {
				flex: 0 0 auto !important;
				width: 100% !important;
				height: var(--adaire-posts-grid-image-height) !important;
			}

			.adaire-posts-grid__content {
				flex: 0 0 auto !important;
				width: 100% !important;
			}
		}
	}
}

.list__view {
	flex-direction: row !important;
    @media (max-width: 900px){
	flex-direction: column !important;
    }
	& .adaire-posts-grid__image {
        @media (max-width: 900px){
            width: 100% !important;

            }
		width: 50% !important;
		height: 100%;
		& img {
			height: 100%;
			width: 100% !important;
		}
	}

    & .adaire-posts-grid__content{
        width: 50% !important;
        @media (max-width: 900px){
            width: 100% !important;

            }
    }
}

document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".adaire-testimonial3");0!==e.length&&e.forEach(e=>{e.getAttribute("data-block-id");const t=JSON.parse(e.getAttribute("data-testimonials")||"[]"),n=(JSON.parse(e.getAttribute("data-slides-per-view")||'{"desktop":3,"tablet":2,"mobile":1}'),"true"===e.getAttribute("data-show-pagination")),a="true"===e.getAttribute("data-loop"),i=(e.getAttribute("data-drag-cursor-text"),e.querySelector(".adaire-testimonial3__drag-cursor"));let l,o=null,s=null,r=!1,c=0,d=0,u=0,m=0,p=0,f=0,y=0,v=0,h=!1,g=null,_=null;function L(){const t=e.querySelector(".adaire-testimonial3__wrapper"),n=e.querySelector(".adaire-testimonial3__track");if(!t||!n)return;if(o===t&&s===n&&"true"===o.dataset.dragInitialized)return;o=t,s=n,o.dataset.dragInitialized="true";let a=0;const i=()=>{const e=s.scrollWidth-s.clientWidth,t=s.scrollLeft;return t<=0&&u<0||t>=e&&u>0||Math.abs(u)<.5?(h=!1,void(u=0)):(s.scrollLeft+=u,u*=.92,void(_=requestAnimationFrame(i)))},l=()=>{r=!1,o.style.cursor="grab",o.style.userSelect="",g&&(cancelAnimationFrame(g),g=null),Math.abs(u)>1?(h=!0,s.style.scrollBehavior="auto",s.style.scrollSnapType="none",i()):(s.style.scrollBehavior="auto",s.style.scrollSnapType="none")};o.addEventListener("mousedown",e=>{r=!0,h=!1,u=0,m=e.clientX,p=Date.now(),_&&(cancelAnimationFrame(_),_=null);const t=o.getBoundingClientRect();a=t.left,c=e.clientX-a,d=s.scrollLeft,o.style.cursor="grabbing",o.style.userSelect="none",s.style.scrollBehavior="auto",s.style.scrollSnapType="none",e.preventDefault()}),o.addEventListener("mouseleave",()=>{r&&l(),o.style.cursor="grab"}),o.addEventListener("mouseup",l),document.addEventListener("mousemove",e=>{if(!r)return;const t=e.clientX,n=Date.now(),i=n-p;i>0&&(u=-2*(t-m)/i*16),m=t,p=n,g&&cancelAnimationFrame(g),g=requestAnimationFrame(()=>{const t=2*(e.clientX-a-c),n=s.scrollLeft,i=d-t-n;s.scrollLeft=n+.6*i}),e.preventDefault()});let L=0,E=0,S=0;o.addEventListener("touchstart",e=>{v=0,f=e.touches[0].clientX,y=Date.now(),_&&(cancelAnimationFrame(_),_=null);const t=o.getBoundingClientRect();S=t.left,L=e.touches[0].clientX-S,E=s.scrollLeft,s.style.scrollBehavior="auto",s.style.scrollSnapType="none"},{passive:!1}),o.addEventListener("touchmove",e=>{if(!L)return;const t=e.touches[0].clientX,n=Date.now(),a=n-y;a>0&&(v=-2*(t-f)/a*16),f=t,y=n,g&&cancelAnimationFrame(g),g=requestAnimationFrame(()=>{const t=2*(e.touches[0].clientX-S-L),n=s.scrollLeft,a=E-t-n;s.scrollLeft=n+.6*a}),e.preventDefault()},{passive:!1}),o.addEventListener("touchend",()=>{Math.abs(v)>1?(u=v,h=!0,s.style.scrollBehavior="auto",s.style.scrollSnapType="none",i()):(s.style.scrollBehavior="auto",s.style.scrollSnapType="none"),L=0,g&&(cancelAnimationFrame(g),g=null)}),o.style.cursor="grab"}if(function(){try{!function(){const n=e.querySelector(".adaire-testimonial3__track");n&&(n.innerHTML="",(a&&t.length>1?[...t,...t,...t]:t).forEach((t,a)=>{const i=document.createElement("div");i.className="adaire-testimonial3__slide",i.setAttribute("data-testimonial-id",t.id);const l=document.createElement("div");l.className="adaire-testimonial3__card";const o=document.createElement("div");o.className="adaire-testimonial3__quote-icon";const s=e.getAttribute("data-quote-icon-size")||"60",r=e.getAttribute("data-quote-icon-color")||"#6B46C1";o.innerHTML=`\n                    <svg width="${s}" height="${s}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z" fill="${r}"/>\n                    </svg>\n                `;const c=document.createElement("div");c.className="adaire-testimonial3__quote",c.textContent=t.quote||"";const d=document.createElement("div");if(d.className="adaire-testimonial3__author",t.profileImage?.url){const e=document.createElement("img");e.src=t.profileImage.url,e.alt=t.profileImage.alt||t.name||"",e.className="adaire-testimonial3__profile-image",d.appendChild(e)}const u=document.createElement("div");u.className="adaire-testimonial3__author-info";const m=document.createElement("div");m.className="adaire-testimonial3__name",m.textContent=t.name||"";const p=document.createElement("div");p.className="adaire-testimonial3__title",p.textContent=t.title||"",u.appendChild(m),u.appendChild(p),d.appendChild(u),l.appendChild(o),l.appendChild(c),l.appendChild(d),i.appendChild(l),n.appendChild(i)}))}(),L(),function(){if(!n)return;const a=e.querySelector(".adaire-testimonial3__pagination");if(!a)return;a.innerHTML="",t.forEach((e,t)=>{const n=document.createElement("span");n.className="adaire-testimonial3__pagination-dot",0===t&&n.classList.add("is-active"),a.appendChild(n)});const i=e.querySelector(".adaire-testimonial3__track");i&&i.addEventListener("scroll",()=>{const e=i.querySelectorAll(".adaire-testimonial3__slide"),t=a.querySelectorAll(".adaire-testimonial3__pagination-dot");e.forEach((e,n)=>{const a=e.getBoundingClientRect(),l=i.getBoundingClientRect();a.left<=l.left+l.width/2&&a.right>=l.left+l.width/2&&(t.forEach(e=>e.classList.remove("is-active")),t[n]&&t[n].classList.add("is-active"))})})}(),i&&function(){if(!i)return;const t=e.querySelector(".adaire-testimonial3__wrapper");if(!t)return;let n=0,a=0,l=0,o=0,s=!1,r=!1;i.style.opacity="0",i.style.transform="translate(-50%, -50%) scale(0)",i.style.pointerEvents="none";const c=t=>{const i=e.getBoundingClientRect();n=t.clientX-i.left,a=t.clientY-i.top},d=()=>{const e=r?.3:.15;l+=(n-l)*e,o+=(a-o)*e,!s&&!r||(i.style.left=l+"px",i.style.top=o+"px",i.style.transform="translate(-50%, -50%) scale(1)"),requestAnimationFrame(d)};t.addEventListener("mouseenter",e=>{s=!0,c(e),l=n,o=a,i.style.left=n+"px",i.style.top=a+"px",i.style.opacity="1",i.style.transform="translate(-50%, -50%) scale(1)",i.style.transition="opacity 0.25s ease, transform 0.25s cubic-bezier(0.68, -0.55, 0.265, 1.55)"}),t.addEventListener("mousemove",e=>{c(e)}),t.addEventListener("mouseleave",()=>{s=!1,r=!1,i.style.opacity="0",i.style.transform="translate(-50%, -50%) scale(0)",i.style.transition="opacity 0.2s ease, transform 0.2s ease"});const u=e.querySelector(".adaire-testimonial3__track");u&&(u.addEventListener("mousedown",()=>{r=!0}),u.addEventListener("mouseup",()=>{r=!1}),u.addEventListener("mouseleave",()=>{r=!1})),d()}()}catch(e){console.error("Error initializing testimonial carousel:",e)}}(),a&&t.length>1){const n=e.querySelector(".adaire-testimonial3__track");if(n){const e=((n.querySelector(".adaire-testimonial3__slide")?.offsetWidth||0)+(parseInt(getComputedStyle(n).gap)||24))*t.length;n.addEventListener("scroll",()=>{const t=n.scrollLeft;t>=2*e?n.scrollLeft=e+(t-2*e):t<e&&(n.scrollLeft=2*e-(e-t))})}}window.addEventListener("resize",()=>{clearTimeout(l),l=setTimeout(()=>{L()},250)})})});
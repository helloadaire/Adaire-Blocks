(()=>{"use strict";var e,o={104:()=>{const e=window.wp.blocks,o=window.wp.i18n,l=window.wp.blockEditor,i=window.wp.mediaUtils,t=window.wp.components,n=window.wp.element,a=window.ReactJSXRuntime,r=JSON.parse('{"UU":"create-block/portfolio-block"}');(0,e.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:r}){const{agencyTitle:s,agencyDescription:d,ctaButtonText:c,slides:g,backgroundColor:p,gradientType:x,gradientAngle:h,gradientColor1:b,gradientColor2:m,gradientColor3:f,gradientStop1:u,gradientStop2:y,gradientStop3:k,textColor:j,titleFontSize:v,titleFontFamily:_,textFontSize:C,textFontFamily:w,slideTitleFontSize:T,slideDescriptionFontSize:S,slideTagFontSize:N}=e,[I,$]=(0,n.useState)(0),F=(0,l.useBlockProps)({className:"wp-block-create-block-portfolio-block",style:{color:j||"#ffffff","--title-font-size":`${v}px`,"--text-font-size":`${C}px`,"--slide-title-font-size":`${T}px`,"--slide-description-font-size":`${S}px`,"--slide-tag-font-size":`${N}px`}});(0,n.useEffect)(()=>{if(g&&g.length>0){const e=g.map(e=>{const o={...e};return o.hasOwnProperty("newTagInput")||(o.newTagInput=""),o.hasOwnProperty("slideTags")||(o.slideTags=[]),o});JSON.stringify(e)!==JSON.stringify(g)&&r({slides:e})}},[]),console.log("Block props style:",F.style),console.log("Current slides data:",g);const B=(e,o,l)=>{const i=[...g];i[e]={...i[e],[o]:l},console.log("Updated slide:",e,o,l,i[e]),console.log("All slides after update:",i),r({slides:i})},z=(e,o)=>{if(!o||!o.trim())return;const l=o.trim(),i=g[e],t=Array.isArray(i.slideTags)?[...i.slideTags]:[];if(!t.some(e=>e.toLowerCase()===l.toLowerCase())){const o=[...g];o[e]={...i,slideTags:[...t,l],newTagInput:""},r({slides:o})}},A=()=>"linear"===x?f?`linear-gradient(${h}deg, ${b} ${u}%, ${m} ${y}%, ${f} ${k}%)`:`linear-gradient(${h}deg, ${b} ${u}%, ${m} ${y}%)`:f?`radial-gradient(circle, ${b} ${u}%, ${m} ${y}%, ${f} ${k}%)`:`radial-gradient(circle, ${b} ${u}%, ${m} ${y}%)`,R=()=>{const e=A();r({backgroundColor:e})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.InspectorControls,{children:[(0,a.jsxs)(t.PanelBody,{title:(0,o.__)("Agency Section Settings","portfolio-block"),initialOpen:!0,children:[(0,a.jsx)(t.TextControl,{label:(0,o.__)("Section Title","portfolio-block"),value:s,onChange:e=>r({agencyTitle:e})}),(0,a.jsx)(t.TextareaControl,{label:(0,o.__)("Section Description","portfolio-block"),value:d,onChange:e=>r({agencyDescription:e}),rows:4}),(0,a.jsx)(t.TextControl,{label:(0,o.__)("CTA Button Text","portfolio-block"),value:c,onChange:e=>r({ctaButtonText:e})})]}),(0,a.jsxs)(t.PanelBody,{title:(0,o.__)("Styling Options","portfolio-block"),initialOpen:!0,children:[(0,a.jsx)(t.SelectControl,{label:(0,o.__)("Background Type","portfolio-block"),value:p?.includes("gradient")?"gradient":"solid",options:[{label:"Solid Color",value:"solid"},{label:"Gradient",value:"gradient"}],onChange:e=>{r("solid"===e?{backgroundColor:"#667eea",gradientType:"linear",gradientAngle:135,gradientColor1:"#667eea",gradientColor2:"#764ba2",gradientColor3:"",gradientStop1:0,gradientStop2:100,gradientStop3:50}:{backgroundColor:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",gradientType:"linear",gradientAngle:135,gradientColor1:"#667eea",gradientColor2:"#764ba2",gradientColor3:"",gradientStop1:0,gradientStop2:100,gradientStop3:50})}}),(!p||!p.includes("gradient"))&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.ColorPicker,{label:(0,o.__)("Background Color","portfolio-block"),color:p,onChangeComplete:e=>r({backgroundColor:e.hex}),disableAlpha:!0}),(0,a.jsx)("div",{style:{background:p||"#667eea",padding:"10px",borderRadius:"4px",marginTop:"10px",border:"2px solid #ddd",textAlign:"center",color:"#fff",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:"Current Background Preview"})]}),p&&p.includes("gradient")&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.SelectControl,{label:(0,o.__)("Gradient Type","portfolio-block"),value:x,options:[{label:"Linear",value:"linear"},{label:"Radial",value:"radial"}],onChange:e=>{r({gradientType:e}),R()}}),"linear"===x&&(0,a.jsx)(t.RangeControl,{label:(0,o.__)("Gradient Angle","portfolio-block"),value:h,onChange:e=>{r({gradientAngle:e}),R()},min:0,max:360,step:1}),(0,a.jsxs)("div",{style:{marginTop:"15px",padding:"10px",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,a.jsx)("h4",{style:{margin:"0 0 10px 0"},children:(0,o.__)("Gradient Colors","portfolio-block")}),(0,a.jsx)(t.ColorPicker,{label:(0,o.__)("Color 1","portfolio-block"),color:b,onChangeComplete:e=>{r({gradientColor1:e.hex}),R()},disableAlpha:!0}),(0,a.jsx)(t.RangeControl,{label:(0,o.__)("Color 1 Stop (%)","portfolio-block"),value:u,onChange:e=>{r({gradientStop1:e}),R()},min:0,max:100,step:1}),(0,a.jsx)(t.ColorPicker,{label:(0,o.__)("Color 2","portfolio-block"),color:m,onChangeComplete:e=>{r({gradientColor2:e.hex}),R()},disableAlpha:!0}),(0,a.jsx)(t.RangeControl,{label:(0,o.__)("Color 2 Stop (%)","portfolio-block"),value:y,onChange:e=>{r({gradientStop2:e}),R()},min:0,max:100,step:1}),(0,a.jsx)(t.ToggleControl,{label:(0,o.__)("Add Third Color","portfolio-block"),checked:!!f,onChange:e=>{r(e?{gradientColor3:"#f093fb",gradientStop3:50}:{gradientColor3:"",gradientStop3:50}),R()}}),f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.ColorPicker,{label:(0,o.__)("Color 3","portfolio-block"),color:f,onChangeComplete:e=>{r({gradientColor3:e.hex}),R()},disableAlpha:!0}),(0,a.jsx)(t.RangeControl,{label:(0,o.__)("Color 3 Stop (%)","portfolio-block"),value:k,onChange:e=>{r({gradientStop3:e}),R()},min:0,max:100,step:1})]})]}),(0,a.jsx)("div",{style:{background:A(),padding:"10px",borderRadius:"4px",marginTop:"10px",border:"2px solid #ddd",textAlign:"center",color:"#fff",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.5)",minHeight:"40px"},children:"Current Gradient Preview"})]}),(0,a.jsx)(t.ColorPicker,{label:(0,o.__)("Text Color","portfolio-block"),color:j,onChangeComplete:e=>r({textColor:e.hex}),disableAlpha:!0}),(0,a.jsx)(t.RangeControl,{label:(0,o.__)("Title Font Size","portfolio-block"),value:v,onChange:e=>r({titleFontSize:e}),min:20,max:80}),(0,a.jsx)(t.RangeControl,{label:(0,o.__)("Text Font Size","portfolio-block"),value:C,onChange:e=>r({textFontSize:e}),min:12,max:32}),(0,a.jsx)(t.RangeControl,{label:(0,o.__)("Slide Title Font Size","portfolio-block"),value:T,onChange:e=>r({slideTitleFontSize:e}),min:40,max:200}),(0,a.jsx)(t.RangeControl,{label:(0,o.__)("Slide Description Font Size","portfolio-block"),value:S,onChange:e=>r({slideDescriptionFontSize:e}),min:12,max:40}),(0,a.jsx)(t.RangeControl,{label:(0,o.__)("Slide Tag Font Size","portfolio-block"),value:N,onChange:e=>r({slideTagFontSize:e}),min:12,max:40})]}),(0,a.jsxs)(t.PanelBody,{title:(0,o.__)("Portfolio Slides","portfolio-block"),initialOpen:!0,children:[(0,a.jsxs)("div",{style:{background:"#f0f6fc",padding:"10px",borderRadius:"4px",marginBottom:"15px",border:"1px solid #c3c4c7"},children:[(0,a.jsx)("strong",{children:"ðŸ’¡ Tip:"})," You can add unlimited slides! All slides will be displayed in the gallery and available in the modal slider."]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,a.jsxs)("span",{style:{fontWeight:"bold"},children:[(0,o.__)("Total Slides:","portfolio-block")," ",g.length]}),(0,a.jsx)(t.Button,{variant:"primary",onClick:()=>{const e=(g.length>0?Math.max(...g.map(e=>e.id)):0)+1,o={id:e,slideTitle:`New Project ${e}`,slideDescription:"Add your project description here...",slideUrl:"https://example.com",slideTags:[],newTagInput:"",slideImg:"",slideImgId:0};console.log("Adding new slide with ID:",e),r({slides:[...g,o]})},style:{backgroundColor:"#007cba",borderColor:"#007cba",color:"white"},children:(0,o.__)("âž• Add New Slide","portfolio-block")})]}),g.map((e,l)=>(0,a.jsxs)("div",{style:{border:"1px solid #ddd",padding:"15px",marginBottom:"15px",borderRadius:"8px"},children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[(0,a.jsxs)("h4",{style:{margin:0},children:[(0,o.__)("Slide","portfolio-block")," ",l+1]}),(0,a.jsx)(t.Button,{variant:"secondary",isDestructive:!0,onClick:()=>(e=>{const o=g.filter((o,l)=>l!==e);r({slides:o})})(l),children:(0,o.__)("Remove","portfolio-block")})]}),(0,a.jsx)(t.TextControl,{label:(0,o.__)("Title","portfolio-block"),value:e.slideTitle,onChange:e=>B(l,"slideTitle",e)}),(0,a.jsx)(t.TextareaControl,{label:(0,o.__)("Description","portfolio-block"),value:e.slideDescription,onChange:e=>B(l,"slideDescription",e),rows:3}),(0,a.jsx)(t.TextControl,{label:(0,o.__)("Project URL","portfolio-block"),value:e.slideUrl,onChange:e=>B(l,"slideUrl",e)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:(0,o.__)("Tags","portfolio-block")}),(0,a.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"10px"},children:[(0,a.jsx)(t.TextControl,{value:e.newTagInput||"",onChange:e=>B(l,"newTagInput",e),onKeyDown:o=>{"Enter"===o.key&&(o.preventDefault(),z(l,e.newTagInput||""))},placeholder:"Enter a tag...",style:{flex:1}}),(0,a.jsx)(t.Button,{variant:"secondary",onClick:()=>{z(l,e.newTagInput||"")},children:"Add Tag"})]}),(0,a.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px",minHeight:"30px",padding:"5px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#f9f9f9"},children:Array.isArray(e.slideTags)&&e.slideTags.length>0?e.slideTags.map((o,i)=>(0,a.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"5px",padding:"4px 8px",backgroundColor:"#007cba",color:"white",borderRadius:"12px",fontSize:"12px",fontWeight:"500"},children:[o,(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),((e,o)=>{const l=g[e],i=Array.isArray(l.slideTags)?l.slideTags.filter(e=>e!==o):[],t=[...g];t[e]={...l,slideTags:i},r({slides:t})})(l,o)},style:{background:"none",border:"none",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:"bold",padding:"0",marginLeft:"4px",lineHeight:"1"},title:"Remove tag",children:"Ã—"})]},`${e.id}-${i}`)):(0,a.jsx)("span",{style:{color:"#666",fontStyle:"italic"},children:"No tags added yet"})}),(0,a.jsxs)("div",{style:{marginTop:"10px"},children:[(0,a.jsx)(t.Button,{variant:"secondary",onClick:()=>{z(l,"Web Design"),z(l,"Branding"),z(l,"UI/UX")},style:{marginRight:"5px"},children:"Add Sample Tags"}),(0,a.jsx)(t.Button,{variant:"secondary",isDestructive:!0,onClick:()=>B(l,"slideTags",[]),children:"Clear All Tags"})]})]}),(0,a.jsxs)("div",{style:{marginTop:"10px"},children:[(0,a.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:(0,o.__)("Project Image","portfolio-block")}),(0,a.jsx)(i.MediaUpload,{onSelect:e=>{console.log("MediaUpload onSelect called with:",e),((e,o)=>{if(console.log("Selected media:",o),o&&o.id){if(console.log("Setting image ID:",o.id),B(e,"slideImgId",o.id),o.url)console.log("Setting image URL:",o.url),B(e,"slideImg",o.url);else if(console.log("Fetching image URL for ID:",o.id),window.wp&&window.wp.media){const l=window.wp.media.attachment(o.id);l.fetch().then(()=>{const o=l.get("url");console.log("Fetched URL:",o),o&&B(e,"slideImg",o)}).catch(e=>{console.error("Error fetching image URL:",e)})}}else console.log("No valid media object received")})(l,e)},allowedTypes:["image"],value:e.slideImgId,render:({open:i})=>(console.log("MediaUpload render called, open function:",typeof i),(0,a.jsx)("div",{style:{display:"flex",gap:"10px",alignItems:"flex-start",flexWrap:"wrap"},children:e.slideImg&&""!==e.slideImg?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:e.slideImg,alt:"",style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"4px",flexShrink:0}}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[(0,a.jsx)(t.Button,{variant:"secondary",onClick:i,children:(0,o.__)("Change Image","portfolio-block")}),(0,a.jsx)(t.Button,{variant:"secondary",isDestructive:!0,onClick:()=>(e=>{B(e,"slideImg",""),B(e,"slideImgId",0)})(l),children:(0,o.__)("Remove","portfolio-block")})]})]}):(0,a.jsx)(t.Button,{variant:"secondary",onClick:i,children:(0,o.__)("Select Image","portfolio-block")})}))}),!1]})]},e.id))]}),!1]}),(0,a.jsx)("div",{...F,children:(0,a.jsx)("div",{className:"animation-component",style:{position:"relative",border:"2px solid red",padding:"10px",minHeight:"400px"},onClick:e=>{console.log("Portfolio block clicked!",e),e.stopPropagation()},onMouseEnter:e=>{console.log("Portfolio block mouse enter!",e)},children:(0,a.jsx)("section",{className:"agency-section",style:{background:p||"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:(0,a.jsx)("div",{className:"agency-container",children:(0,a.jsxs)("div",{className:"agency-content",children:[(0,a.jsxs)("div",{className:"agency-text",children:[(0,a.jsxs)("div",{className:"agency-description",children:[(0,a.jsx)("h2",{className:"agency-description-title",children:s}),(0,a.jsx)("p",{className:"agency-description-text",children:d})]}),(0,a.jsx)("div",{className:"agency-cta",children:(0,a.jsxs)("button",{className:"view-portfolio-btn",children:[c,(0,a.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M7 17L17 7M17 7H7M17 7V17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]}),(0,a.jsx)("div",{className:"agency-gallery",children:(0,a.jsx)("div",{className:"gallery-grid",children:g.map((e,l)=>(0,a.jsxs)("div",{className:"gallery-item",children:[e.slideImg&&""!==e.slideImg?(0,a.jsx)("img",{className:"gallery-img",src:e.slideImg,alt:e.slideTitle,style:{width:"100%",height:"100%",objectFit:"cover"}}):(0,a.jsx)("div",{className:"gallery-placeholder",children:(0,a.jsx)("span",{children:(0,o.__)("No Image","portfolio-block")})}),(0,a.jsx)("div",{className:"gallery-overlay",children:(0,a.jsx)("span",{className:"gallery-overlay-text",children:e.slideTitle})})]},e.id))})})]})})})})})]})},save:function({attributes:e}){const{agencyTitle:o,agencyDescription:i,ctaButtonText:t,slides:n,backgroundColor:r,textColor:s,titleFontSize:d,textFontSize:c,slideTitleFontSize:g,slideDescriptionFontSize:p,slideTagFontSize:x}=e,h=l.useBlockProps.save({className:"ad-portfolio-block",style:{color:s||"#ffffff","--title-font-size":`${d}px`,"--text-font-size":`${c}px`,"--slide-title-font-size":`${g}px`,"--slide-description-font-size":`${p}px`,"--slide-tag-font-size":`${x}px`},"data-slides":JSON.stringify(n)});return(0,a.jsxs)("div",{...h,children:[(0,a.jsx)("section",{className:"ad-portfolio-block__agency-section",style:{background:r||"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:(0,a.jsx)("div",{className:"ad-portfolio-block__agency-container",children:(0,a.jsxs)("div",{className:"ad-portfolio-block__agency-content",children:[(0,a.jsxs)("div",{className:"ad-portfolio-block__agency-text",children:[(0,a.jsxs)("div",{className:"ad-portfolio-block__agency-description",children:[(0,a.jsx)("h2",{className:"ad-portfolio-block__agency-description-title",children:o}),(0,a.jsx)("p",{className:"ad-portfolio-block__agency-description-text",children:i})]}),(0,a.jsx)("div",{className:"ad-portfolio-block__agency-cta",children:(0,a.jsxs)("button",{className:"ad-portfolio-block__view-portfolio-btn",children:[(0,a.jsx)("span",{className:"ad-portfolio-block__button-text",children:t}),(0,a.jsx)("svg",{className:"ad-portfolio-block__button-arrow",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M7 17L17 7M17 7H7M17 7V17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]}),(0,a.jsx)("div",{className:"ad-portfolio-block__agency-gallery",children:(0,a.jsx)("div",{className:"ad-portfolio-block__gallery-grid",children:n.map((e,o)=>(0,a.jsxs)("div",{className:"ad-portfolio-block__gallery-item","data-slide-index":o,children:[e.slideImg?(0,a.jsx)("img",{className:"ad-portfolio-block__gallery-img",src:e.slideImg,alt:e.slideTitle,style:{width:"100%",height:"100%",objectFit:"cover"}}):(0,a.jsx)("div",{className:"ad-portfolio-block__gallery-placeholder",children:(0,a.jsx)("span",{children:"No Image"})}),(0,a.jsx)("div",{className:"ad-portfolio-block__gallery-overlay",children:(0,a.jsx)("span",{className:"ad-portfolio-block__gallery-overlay-text",children:e.slideTitle})})]},e.id))})})]})})}),(0,a.jsx)("div",{className:"ad-portfolio-block__modal-overlay",style:{display:"none"},children:(0,a.jsxs)("div",{className:"ad-portfolio-block__modal-content",children:[(0,a.jsx)("button",{className:"ad-portfolio-block__modal-close-btn",children:(0,a.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,a.jsx)("div",{className:"ad-portfolio-block__slider"})]})})]})}})}},l={};function i(e){var t=l[e];if(void 0!==t)return t.exports;var n=l[e]={exports:{}};return o[e](n,n.exports,i),n.exports}i.m=o,e=[],i.O=(o,l,t,n)=>{if(!l){var a=1/0;for(c=0;c<e.length;c++){for(var[l,t,n]=e[c],r=!0,s=0;s<l.length;s++)(!1&n||a>=n)&&Object.keys(i.O).every(e=>i.O[e](l[s]))?l.splice(s--,1):(r=!1,n<a&&(a=n));if(r){e.splice(c--,1);var d=t();void 0!==d&&(o=d)}}return o}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[l,t,n]},i.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={364:0,76:0};i.O.j=o=>0===e[o];var o=(o,l)=>{var t,n,[a,r,s]=l,d=0;if(a.some(o=>0!==e[o])){for(t in r)i.o(r,t)&&(i.m[t]=r[t]);if(s)var c=s(i)}for(o&&o(l);d<a.length;d++)n=a[d],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(c)},l=globalThis.webpackChunkadaire_blocks=globalThis.webpackChunkadaire_blocks||[];l.forEach(o.bind(null,0)),l.push=o.bind(null,l.push.bind(l))})();var t=i.O(void 0,[76],()=>i(104));t=i.O(t)})();
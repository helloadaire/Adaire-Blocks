document.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll(".ad-animation-scroll");function e(t,e,a,r,s,o,n,i){const l="in"===a;switch(e){case"fade-in":case"fade-out":t.style.transition=`opacity ${r}ms ${s}`,t.style.opacity=l?"1":"0";break;case"fade-left":case"fly-left":t.style.transition=`opacity ${r}ms ${s}, transform ${r}ms ${s}`,t.style.opacity=l?"1":"0",t.style.transform=l?"translateX(0)":`translateX(-${o}px)`;break;case"fade-right":case"fly-right":t.style.transition=`opacity ${r}ms ${s}, transform ${r}ms ${s}`,t.style.opacity=l?"1":"0",t.style.transform=l?"translateX(0)":`translateX(${o}px)`;break;case"fly-up":t.style.transition=`opacity ${r}ms ${s}, transform ${r}ms ${s}`,t.style.opacity=l?"1":"0",t.style.transform=l?"translateY(0)":`translateY(${o}px)`;break;case"fly-down":t.style.transition=`opacity ${r}ms ${s}, transform ${r}ms ${s}`,t.style.opacity=l?"1":"0",t.style.transform=l?"translateY(0)":`translateY(-${o}px)`;break;case"grow":t.style.transition=`opacity ${r}ms ${s}, transform ${r}ms ${s}`,t.style.opacity=l?"1":"0",t.style.transform=l?"scale(1)":"scale(0.8)";break;case"shrink":t.style.transition=`opacity ${r}ms ${s}, transform ${r}ms ${s}`,t.style.opacity=l?"1":"0",t.style.transform=l?"scale(1)":"scale(1.2)";break;case"bounce":t.style.transition=`opacity ${r}ms ${s}, transform ${r}ms ${s}`,t.style.opacity=l?"1":"0",t.style.transform=l?"scale(1)":"scale(0.3)";break;case"flip":const e="horizontal"===n?"Y":"X",a="clockwise"===i?"90":"-90";t.style.transition=`opacity ${r}ms ${s}, transform ${r}ms ${s}`,t.style.opacity=l?"1":"0",t.style.transform=l?`perspective(100px) rotate${e}(0deg)`:`perspective(200px) rotate${e}(${a}deg)`;break;case"rotate":t.style.transition=`opacity ${r}ms ${s}, transform ${r}ms ${s}`,t.style.opacity=l?"1":"0",t.style.transform=l?"rotate(0deg)":"rotate(180deg)";break;case"blur-in":t.style.transition=`opacity ${r}ms ${s}, filter ${r}ms ${s}`,t.style.opacity=l?"1":"0",t.style.filter=l?"blur(0px)":"blur(10px)";break;case"blur-out":t.style.transition=`opacity ${r}ms ${s}, filter ${r}ms ${s}`,t.style.opacity=l?"1":"0",t.style.filter="blur(0px)"}}t.length&&t.forEach(t=>{const a=t.getAttribute("data-animation-type")||"fade-in",r=parseInt(t.getAttribute("data-animation-duration"))||1e3,s=parseInt(t.getAttribute("data-animation-delay"))||0,o=t.getAttribute("data-animation-easing")||"ease-out",n=parseInt(t.getAttribute("data-animation-distance"))||50,i=t.getAttribute("data-flip-axis")||"horizontal",l=t.getAttribute("data-flip-direction")||"clockwise",c="true"===t.getAttribute("data-reverse-scroll"),y=parseFloat(t.getAttribute("data-threshold"))||.2,m="true"===t.getAttribute("data-animate-once"),p=t.querySelector(".ad-animation-scroll__content");if(!p)return;const f=function(t,e,a,r){switch(t){case"fade-in":case"fade-out":default:return{opacity:"0"};case"fade-left":case"fly-left":return{opacity:"0",transform:`translateX(-${e}px)`};case"fade-right":case"fly-right":return{opacity:"0",transform:`translateX(${e}px)`};case"fly-up":return{opacity:"0",transform:`translateY(${e}px)`};case"fly-down":return{opacity:"0",transform:`translateY(-${e}px)`};case"grow":return{opacity:"0",transform:"scale(0.8)"};case"shrink":return{opacity:"0",transform:"scale(1.2)"};case"bounce":return{opacity:"0",transform:"scale(0.3)"};case"flip":return{opacity:"0",transform:`perspective(100px) rotate${"horizontal"===a?"Y":"X"}(${"clockwise"===r?"90":"-90"}deg)`};case"rotate":return{opacity:"0",transform:"rotate(180deg)"};case"blur-in":return{opacity:"0",filter:"blur(10px)"};case"blur-out":return{opacity:"0",filter:"blur(0px)"}}}(a,n,i,l);var $,u;$=p,u=f,Object.keys(u).forEach(t=>{$.style[t]=u[t]});let d=!1,b=0,g=null;new IntersectionObserver(f=>{f.forEach(f=>{if(m&&d&&f.isIntersecting)return void console.log("[Animation Scroll] Skipping - once mode and already animated");const $=f.intersectionRatio,u=b>=y,A=$>=y;console.log(`[Animation Scroll] Threshold: ${y}, Current: ${$.toFixed(2)}, Last: ${b.toFixed(2)}, WasAbove: ${u}, NowAbove: ${A}, IsAnimated: ${d}, ReverseScroll: ${c}`),!A||u||d?!A&&u&&d&&c?(console.log("[Animation Scroll] ANIMATING OUT (REVERSE)"),g&&(clearTimeout(g),g=null),e(p,a,"out",r,o,n,i,l),t.classList.remove("is-animated-in"),d=!1):console.log("[Animation Scroll] No action taken"):(console.log("[Animation Scroll] ANIMATING IN"),g&&clearTimeout(g),g=setTimeout(()=>{f.isIntersecting&&$>=y&&(e(p,a,"in",r,o,n,i,l),t.classList.add("is-animated-in"),d=!0),g=null},s)),b=$})},{root:null,rootMargin:"0px",threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}).observe(t)})});